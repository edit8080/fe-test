# 프론트엔드 API 연동 프로젝트

## 1. 💿 실행하기

### 1) 패키지 다운로드

```bash
// npm 사용 시
$ npm install

// yarn 사용 시
$ yarn
```

### 2) .env 파일 구성

API 서버 주소 유출 방지를 위해 .env 파일을 사용하였습니다.
따라서 git clone 이후 .env 파일 구성이 필요합니다.
.env 파일 내용은 다음과 같습니다.

```text
API_SERVER = API 서버 주소 입력
```

### 3) Webpack 서버 실행

본 프로젝트는 webpack을 통해 번들링을 구성하였습니다.
프로젝트 실행에는 webpack-dev-server를 사용합니다.
필요한 스크립트 명령어는 이미 구성되었습니다.

```bash
// npm 사용 시
$ npm start

// yarn 사용 시
$ yarn start
```

이후 localhost:8080으로 접속합니다.

## 2. 📌 프로젝트 진행 우선순위 설정

1. 프로젝트 설계
2. 필요 프로젝트 패키지 정리
3. 프로젝트 폴더 구조 설정
4. Webpack 환경 구성
5. API 데이터 Fetch 로직 구현
6. Redux를 통한 데이터 상태 관리 로직 구현
7. 재사용성을 고려한 컴포넌트를 기준으로 구현
8. 데이터와 컴포넌트를 연결하는 매개 컴포넌트 구현
9. 발견 버그 수정
10. 스타일 설정

## 3. ✅ 프로젝트 구현 내용

1. 환자 정보를 탐색할 수 있는 테이블 Component 생성 완료 (환자 ID, 성별, 생년월일, 나이, 인종, 민족, 사망 여부 제공)
2. 페이징 기능 추가 완료
3. 테이블 헤더 클릭 이벤트로 컬럼 정렬 기능 추가 완료 (환자ID, 성별, 생년월일, 인종, 민족, 사망 여부 기준)
4. 필터 기능 추가 완료 (성별, 나이, 인종, 민족, 사망 여부 기준)
5. 차트 일부 추가 완료 (단일 속성과 관련된 Pie Chart 구성)

![image](https://user-images.githubusercontent.com/30149272/134696533-8b16c446-f671-4a0b-a001-60b6f8660373.png)

## 4. ⚠️ 미구현점 & 버그

### 1) 미구현점

1. 환자 상세 정보 제공
2. 다중 속성 Pie Chart 구성
3. 필터 설정에 따른 Pie Chart 변화

### 2) 버그

1. 페이지네이션 초기화 버그 <br/>
 : 마지막 페이지네이션 이동 후 페이지 row 변경 또는 필터 설정 시 페이지가 기존 범위를 벗어나 데이터가 보이지 않는 문제 발생

2. 정렬과 필터링 간 클릭 이벤트 버그 <br />
 : 정렬을 수행하는 테이블 헤더부와 필터 메뉴 간에 클릭 이벤트가 중첩되는 문제 발생

## 5. 🛠️ 개선계획

1. 환자 상세 정보 제공 기능 구성 해결 <br />
   a) 환자 ID를 통해 환자 기본 정보 / 상세 정보를 Fetch할 수 있는 API 로직을 구성합니다. <br />
   b) 환자 관련 컬럼(tr)에 환자의 ID(person-id)를 `data-id` 속성값으로 저장합니다. <br />
   c) 해당 컬럼을 클릭하면 b에서 저장한 `data-id` 값과 a에서 구성한 API 로직으로 데이터를 Fetch한 후 상태로 저장하는 이벤트 로직과 상태 관리 로직을 구성합니다. <br />
   d) c에서 저장된 상태 데이터를 기반으로 클릭한 컬럼 하단에 환자 정보를 추가합니다.

2. 다중 속성 Pie Chart 구성 <br />
   a) 현재 단일 속성에 대한 `stats` 내 데이터 값을 카운팅하는 로직을 추가하였습니다. <br />
   b) 해당 과정에 기반하여 다중 속성에 대한 `stats` 내 데이터를 카운팅하는 로직을 작성합니다. <br />
   c) 다중 속성에 기반해 데이터를 필터링을 진행하고 난 후 해당 데이터를 통해 Pie Chart를 구성하는 것으로 해결할 수 있다고 생각합니다. <br />

3. 필터 설정에 따른 Pie Chart 변화 <br />
   a) 사용자가 지정한 필터 옵션값을 관리하는 상태 로직을 따로 저장해두었습니다. <br />
   b) 해당 상태를 활용하여 `stats` 데이터를 필터링하는 로직을 추가하는 것으로 해결할 수 있다고 생각합니다. <br />

4. 페이지네이션 관련 버그 -> 페이지네이션 상태 로직 분리 <br />
   a) 페이지네이션과 관련된 상태 로직이 분리되지 않아 페이지네이션과 관련된 버그가 많이 발생했다고 분석했습니다. <br />
   b) 따라서 페이지네이션 관련 상태를 분리하는 것으로 페이징, 정렬, 필터 기능이 원활하게 동작할 수 있다고 생각합니다.

5. 정렬 / 필터링 클릭 이벤트 버그 <br />
   a) 테이블 헤더부에 얽혀있는 이벤트 전파 로직을 수정할 필요가 있다고 생각했습니다. <br />
   b) 정렬과 필터링 이벤트 로직을 확인하여 이벤트 로직을 효율적으로 개선하는 것으로 해결할 수 있다고 생각합니다. <br />

6. 스타일 개선 <br />
   a) 레이아웃 개선 <br />
   b) 정렬 표시 스타일 추가 <br />
   c) 테이블 헤더부 스타일 수정 → 정렬 기능과 필터 기능의 원활한 사용
